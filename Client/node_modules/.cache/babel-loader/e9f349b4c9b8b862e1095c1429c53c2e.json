{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { hashQueryKey, noop, parseFilterArgs, parseQueryArgs, partialMatchKey, hashQueryKeyByOptions } from './utils';\nimport { QueryCache } from './queryCache';\nimport { MutationCache } from './mutationCache';\nimport { focusManager } from './focusManager';\nimport { onlineManager } from './onlineManager';\nimport { notifyManager } from './notifyManager';\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior'; // TYPES\n// CLASS\n\nexport var QueryClient = /*#__PURE__*/function () {\n  function QueryClient(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this.queryCache = config.queryCache || new QueryCache();\n    this.mutationCache = config.mutationCache || new MutationCache();\n    this.defaultOptions = config.defaultOptions || {};\n    this.queryDefaults = [];\n    this.mutationDefaults = [];\n  }\n\n  var _proto = QueryClient.prototype;\n\n  _proto.mount = function mount() {\n    var _this = this;\n\n    this.unsubscribeFocus = focusManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onFocus();\n\n        _this.queryCache.onFocus();\n      }\n    });\n    this.unsubscribeOnline = onlineManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onOnline();\n\n        _this.queryCache.onOnline();\n      }\n    });\n  };\n\n  _proto.unmount = function unmount() {\n    var _this$unsubscribeFocu, _this$unsubscribeOnli;\n\n    (_this$unsubscribeFocu = this.unsubscribeFocus) == null ? void 0 : _this$unsubscribeFocu.call(this);\n    (_this$unsubscribeOnli = this.unsubscribeOnline) == null ? void 0 : _this$unsubscribeOnli.call(this);\n  };\n\n  _proto.isFetching = function isFetching(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    filters.fetching = true;\n    return this.queryCache.findAll(filters).length;\n  };\n\n  _proto.isMutating = function isMutating(filters) {\n    return this.mutationCache.findAll(_extends({}, filters, {\n      fetching: true\n    })).length;\n  };\n\n  _proto.getQueryData = function getQueryData(queryKey, filters) {\n    var _this$queryCache$find;\n\n    return (_this$queryCache$find = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find.state.data;\n  };\n\n  _proto.setQueryData = function setQueryData(queryKey, updater, options) {\n    var parsedOptions = parseQueryArgs(queryKey);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions);\n    return this.queryCache.build(this, defaultedOptions).setData(updater, options);\n  };\n\n  _proto.setQueriesData = function setQueriesData(queryKeyOrFilters, updater, options) {\n    var _this2 = this;\n\n    return notifyManager.batch(function () {\n      return _this2.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref) {\n        var queryKey = _ref.queryKey;\n        return [queryKey, _this2.setQueryData(queryKey, updater, options)];\n      });\n    });\n  };\n\n  _proto.getQueryState = function getQueryState(queryKey, filters) {\n    var _this$queryCache$find2;\n\n    return (_this$queryCache$find2 = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find2.state;\n  };\n\n  _proto.removeQueries = function removeQueries(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    var queryCache = this.queryCache;\n    notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        queryCache.remove(query);\n      });\n    });\n  };\n\n  _proto.resetQueries = function resetQueries(arg1, arg2, arg3) {\n    var _this3 = this;\n\n    var _parseFilterArgs3 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs3[0],\n        options = _parseFilterArgs3[1];\n\n    var queryCache = this.queryCache;\n\n    var refetchFilters = _extends({}, filters, {\n      active: true\n    });\n\n    return notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        query.reset();\n      });\n      return _this3.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.cancelQueries = function cancelQueries(arg1, arg2, arg3) {\n    var _this4 = this;\n\n    var _parseFilterArgs4 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs4[0],\n        _parseFilterArgs4$ = _parseFilterArgs4[1],\n        cancelOptions = _parseFilterArgs4$ === void 0 ? {} : _parseFilterArgs4$;\n\n    if (typeof cancelOptions.revert === 'undefined') {\n      cancelOptions.revert = true;\n    }\n\n    var promises = notifyManager.batch(function () {\n      return _this4.queryCache.findAll(filters).map(function (query) {\n        return query.cancel(cancelOptions);\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.invalidateQueries = function invalidateQueries(arg1, arg2, arg3) {\n    var _filters$refetchActiv,\n        _this5 = this;\n\n    var _parseFilterArgs5 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs5[0],\n        options = _parseFilterArgs5[1];\n\n    var refetchFilters = _extends({}, filters, {\n      active: (_filters$refetchActiv = filters.refetchActive) != null ? _filters$refetchActiv : true,\n      inactive: filters.refetchInactive\n    });\n\n    return notifyManager.batch(function () {\n      _this5.queryCache.findAll(filters).forEach(function (query) {\n        query.invalidate();\n      });\n\n      return _this5.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.refetchQueries = function refetchQueries(arg1, arg2, arg3) {\n    var _this6 = this;\n\n    var _parseFilterArgs6 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs6[0],\n        options = _parseFilterArgs6[1];\n\n    var promises = notifyManager.batch(function () {\n      return _this6.queryCache.findAll(filters).map(function (query) {\n        return query.fetch();\n      });\n    });\n    var promise = Promise.all(promises).then(noop);\n\n    if (!(options == null ? void 0 : options.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  };\n\n  _proto.fetchQuery = function fetchQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions); // https://github.com/tannerlinsley/react-query/issues/652\n\n    if (typeof defaultedOptions.retry === 'undefined') {\n      defaultedOptions.retry = false;\n    }\n\n    var query = this.queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(defaultedOptions.staleTime) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  };\n\n  _proto.prefetchQuery = function prefetchQuery(arg1, arg2, arg3) {\n    return this.fetchQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.fetchInfiniteQuery = function fetchInfiniteQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    parsedOptions.behavior = infiniteQueryBehavior();\n    return this.fetchQuery(parsedOptions);\n  };\n\n  _proto.prefetchInfiniteQuery = function prefetchInfiniteQuery(arg1, arg2, arg3) {\n    return this.fetchInfiniteQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.cancelMutations = function cancelMutations() {\n    var _this7 = this;\n\n    var promises = notifyManager.batch(function () {\n      return _this7.mutationCache.getAll().map(function (mutation) {\n        return mutation.cancel();\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    return this.getMutationCache().resumePausedMutations();\n  };\n\n  _proto.executeMutation = function executeMutation(options) {\n    return this.mutationCache.build(this, options).execute();\n  };\n\n  _proto.getQueryCache = function getQueryCache() {\n    return this.queryCache;\n  };\n\n  _proto.getMutationCache = function getMutationCache() {\n    return this.mutationCache;\n  };\n\n  _proto.getDefaultOptions = function getDefaultOptions() {\n    return this.defaultOptions;\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.setQueryDefaults = function setQueryDefaults(queryKey, options) {\n    var result = this.queryDefaults.find(function (x) {\n      return hashQueryKey(queryKey) === hashQueryKey(x.queryKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.queryDefaults.push({\n        queryKey: queryKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getQueryDefaults = function getQueryDefaults(queryKey) {\n    var _this$queryDefaults$f;\n\n    return queryKey ? (_this$queryDefaults$f = this.queryDefaults.find(function (x) {\n      return partialMatchKey(queryKey, x.queryKey);\n    })) == null ? void 0 : _this$queryDefaults$f.defaultOptions : undefined;\n  };\n\n  _proto.setMutationDefaults = function setMutationDefaults(mutationKey, options) {\n    var result = this.mutationDefaults.find(function (x) {\n      return hashQueryKey(mutationKey) === hashQueryKey(x.mutationKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.mutationDefaults.push({\n        mutationKey: mutationKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getMutationDefaults = function getMutationDefaults(mutationKey) {\n    var _this$mutationDefault;\n\n    return mutationKey ? (_this$mutationDefault = this.mutationDefaults.find(function (x) {\n      return partialMatchKey(mutationKey, x.mutationKey);\n    })) == null ? void 0 : _this$mutationDefault.defaultOptions : undefined;\n  };\n\n  _proto.defaultQueryOptions = function defaultQueryOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    var defaultedOptions = _extends({}, this.defaultOptions.queries, this.getQueryDefaults(options == null ? void 0 : options.queryKey), options, {\n      _defaulted: true\n    });\n\n    if (!defaultedOptions.queryHash && defaultedOptions.queryKey) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(defaultedOptions.queryKey, defaultedOptions);\n    }\n\n    return defaultedOptions;\n  };\n\n  _proto.defaultQueryObserverOptions = function defaultQueryObserverOptions(options) {\n    return this.defaultQueryOptions(options);\n  };\n\n  _proto.defaultMutationOptions = function defaultMutationOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    return _extends({}, this.defaultOptions.mutations, this.getMutationDefaults(options == null ? void 0 : options.mutationKey), options, {\n      _defaulted: true\n    });\n  };\n\n  _proto.clear = function clear() {\n    this.queryCache.clear();\n    this.mutationCache.clear();\n  };\n\n  return QueryClient;\n}();","map":{"version":3,"sources":["C:/Users/Dear User/Desktop/Resturant/resturantalpha/node_modules/react-query/es/core/queryClient.js"],"names":["_extends","hashQueryKey","noop","parseFilterArgs","parseQueryArgs","partialMatchKey","hashQueryKeyByOptions","QueryCache","MutationCache","focusManager","onlineManager","notifyManager","infiniteQueryBehavior","QueryClient","config","queryCache","mutationCache","defaultOptions","queryDefaults","mutationDefaults","_proto","prototype","mount","_this","unsubscribeFocus","subscribe","isFocused","isOnline","onFocus","unsubscribeOnline","onOnline","unmount","_this$unsubscribeFocu","_this$unsubscribeOnli","call","isFetching","arg1","arg2","_parseFilterArgs","filters","fetching","findAll","length","isMutating","getQueryData","queryKey","_this$queryCache$find","find","state","data","setQueryData","updater","options","parsedOptions","defaultedOptions","defaultQueryOptions","build","setData","setQueriesData","queryKeyOrFilters","_this2","batch","getQueryCache","map","_ref","getQueryState","_this$queryCache$find2","removeQueries","_parseFilterArgs2","forEach","query","remove","resetQueries","arg3","_this3","_parseFilterArgs3","refetchFilters","active","reset","refetchQueries","cancelQueries","_this4","_parseFilterArgs4","_parseFilterArgs4$","cancelOptions","revert","promises","cancel","Promise","all","then","catch","invalidateQueries","_filters$refetchActiv","_this5","_parseFilterArgs5","refetchActive","inactive","refetchInactive","invalidate","_this6","_parseFilterArgs6","fetch","promise","throwOnError","fetchQuery","retry","isStaleByTime","staleTime","resolve","prefetchQuery","fetchInfiniteQuery","behavior","prefetchInfiniteQuery","cancelMutations","_this7","getAll","mutation","resumePausedMutations","getMutationCache","executeMutation","execute","getDefaultOptions","setDefaultOptions","setQueryDefaults","result","x","push","getQueryDefaults","_this$queryDefaults$f","undefined","setMutationDefaults","mutationKey","getMutationDefaults","_this$mutationDefault","_defaulted","queries","queryHash","defaultQueryObserverOptions","defaultMutationOptions","mutations","clear"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { hashQueryKey, noop, parseFilterArgs, parseQueryArgs, partialMatchKey, hashQueryKeyByOptions } from './utils';\nimport { QueryCache } from './queryCache';\nimport { MutationCache } from './mutationCache';\nimport { focusManager } from './focusManager';\nimport { onlineManager } from './onlineManager';\nimport { notifyManager } from './notifyManager';\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior'; // TYPES\n\n// CLASS\nexport var QueryClient = /*#__PURE__*/function () {\n  function QueryClient(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this.queryCache = config.queryCache || new QueryCache();\n    this.mutationCache = config.mutationCache || new MutationCache();\n    this.defaultOptions = config.defaultOptions || {};\n    this.queryDefaults = [];\n    this.mutationDefaults = [];\n  }\n\n  var _proto = QueryClient.prototype;\n\n  _proto.mount = function mount() {\n    var _this = this;\n\n    this.unsubscribeFocus = focusManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onFocus();\n\n        _this.queryCache.onFocus();\n      }\n    });\n    this.unsubscribeOnline = onlineManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onOnline();\n\n        _this.queryCache.onOnline();\n      }\n    });\n  };\n\n  _proto.unmount = function unmount() {\n    var _this$unsubscribeFocu, _this$unsubscribeOnli;\n\n    (_this$unsubscribeFocu = this.unsubscribeFocus) == null ? void 0 : _this$unsubscribeFocu.call(this);\n    (_this$unsubscribeOnli = this.unsubscribeOnline) == null ? void 0 : _this$unsubscribeOnli.call(this);\n  };\n\n  _proto.isFetching = function isFetching(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    filters.fetching = true;\n    return this.queryCache.findAll(filters).length;\n  };\n\n  _proto.isMutating = function isMutating(filters) {\n    return this.mutationCache.findAll(_extends({}, filters, {\n      fetching: true\n    })).length;\n  };\n\n  _proto.getQueryData = function getQueryData(queryKey, filters) {\n    var _this$queryCache$find;\n\n    return (_this$queryCache$find = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find.state.data;\n  };\n\n  _proto.setQueryData = function setQueryData(queryKey, updater, options) {\n    var parsedOptions = parseQueryArgs(queryKey);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions);\n    return this.queryCache.build(this, defaultedOptions).setData(updater, options);\n  };\n\n  _proto.setQueriesData = function setQueriesData(queryKeyOrFilters, updater, options) {\n    var _this2 = this;\n\n    return notifyManager.batch(function () {\n      return _this2.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref) {\n        var queryKey = _ref.queryKey;\n        return [queryKey, _this2.setQueryData(queryKey, updater, options)];\n      });\n    });\n  };\n\n  _proto.getQueryState = function getQueryState(queryKey, filters) {\n    var _this$queryCache$find2;\n\n    return (_this$queryCache$find2 = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find2.state;\n  };\n\n  _proto.removeQueries = function removeQueries(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    var queryCache = this.queryCache;\n    notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        queryCache.remove(query);\n      });\n    });\n  };\n\n  _proto.resetQueries = function resetQueries(arg1, arg2, arg3) {\n    var _this3 = this;\n\n    var _parseFilterArgs3 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs3[0],\n        options = _parseFilterArgs3[1];\n\n    var queryCache = this.queryCache;\n\n    var refetchFilters = _extends({}, filters, {\n      active: true\n    });\n\n    return notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        query.reset();\n      });\n      return _this3.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.cancelQueries = function cancelQueries(arg1, arg2, arg3) {\n    var _this4 = this;\n\n    var _parseFilterArgs4 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs4[0],\n        _parseFilterArgs4$ = _parseFilterArgs4[1],\n        cancelOptions = _parseFilterArgs4$ === void 0 ? {} : _parseFilterArgs4$;\n\n    if (typeof cancelOptions.revert === 'undefined') {\n      cancelOptions.revert = true;\n    }\n\n    var promises = notifyManager.batch(function () {\n      return _this4.queryCache.findAll(filters).map(function (query) {\n        return query.cancel(cancelOptions);\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.invalidateQueries = function invalidateQueries(arg1, arg2, arg3) {\n    var _filters$refetchActiv,\n        _this5 = this;\n\n    var _parseFilterArgs5 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs5[0],\n        options = _parseFilterArgs5[1];\n\n    var refetchFilters = _extends({}, filters, {\n      active: (_filters$refetchActiv = filters.refetchActive) != null ? _filters$refetchActiv : true,\n      inactive: filters.refetchInactive\n    });\n\n    return notifyManager.batch(function () {\n      _this5.queryCache.findAll(filters).forEach(function (query) {\n        query.invalidate();\n      });\n\n      return _this5.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.refetchQueries = function refetchQueries(arg1, arg2, arg3) {\n    var _this6 = this;\n\n    var _parseFilterArgs6 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs6[0],\n        options = _parseFilterArgs6[1];\n\n    var promises = notifyManager.batch(function () {\n      return _this6.queryCache.findAll(filters).map(function (query) {\n        return query.fetch();\n      });\n    });\n    var promise = Promise.all(promises).then(noop);\n\n    if (!(options == null ? void 0 : options.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  };\n\n  _proto.fetchQuery = function fetchQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions); // https://github.com/tannerlinsley/react-query/issues/652\n\n    if (typeof defaultedOptions.retry === 'undefined') {\n      defaultedOptions.retry = false;\n    }\n\n    var query = this.queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(defaultedOptions.staleTime) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  };\n\n  _proto.prefetchQuery = function prefetchQuery(arg1, arg2, arg3) {\n    return this.fetchQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.fetchInfiniteQuery = function fetchInfiniteQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    parsedOptions.behavior = infiniteQueryBehavior();\n    return this.fetchQuery(parsedOptions);\n  };\n\n  _proto.prefetchInfiniteQuery = function prefetchInfiniteQuery(arg1, arg2, arg3) {\n    return this.fetchInfiniteQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.cancelMutations = function cancelMutations() {\n    var _this7 = this;\n\n    var promises = notifyManager.batch(function () {\n      return _this7.mutationCache.getAll().map(function (mutation) {\n        return mutation.cancel();\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    return this.getMutationCache().resumePausedMutations();\n  };\n\n  _proto.executeMutation = function executeMutation(options) {\n    return this.mutationCache.build(this, options).execute();\n  };\n\n  _proto.getQueryCache = function getQueryCache() {\n    return this.queryCache;\n  };\n\n  _proto.getMutationCache = function getMutationCache() {\n    return this.mutationCache;\n  };\n\n  _proto.getDefaultOptions = function getDefaultOptions() {\n    return this.defaultOptions;\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.setQueryDefaults = function setQueryDefaults(queryKey, options) {\n    var result = this.queryDefaults.find(function (x) {\n      return hashQueryKey(queryKey) === hashQueryKey(x.queryKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.queryDefaults.push({\n        queryKey: queryKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getQueryDefaults = function getQueryDefaults(queryKey) {\n    var _this$queryDefaults$f;\n\n    return queryKey ? (_this$queryDefaults$f = this.queryDefaults.find(function (x) {\n      return partialMatchKey(queryKey, x.queryKey);\n    })) == null ? void 0 : _this$queryDefaults$f.defaultOptions : undefined;\n  };\n\n  _proto.setMutationDefaults = function setMutationDefaults(mutationKey, options) {\n    var result = this.mutationDefaults.find(function (x) {\n      return hashQueryKey(mutationKey) === hashQueryKey(x.mutationKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.mutationDefaults.push({\n        mutationKey: mutationKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getMutationDefaults = function getMutationDefaults(mutationKey) {\n    var _this$mutationDefault;\n\n    return mutationKey ? (_this$mutationDefault = this.mutationDefaults.find(function (x) {\n      return partialMatchKey(mutationKey, x.mutationKey);\n    })) == null ? void 0 : _this$mutationDefault.defaultOptions : undefined;\n  };\n\n  _proto.defaultQueryOptions = function defaultQueryOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    var defaultedOptions = _extends({}, this.defaultOptions.queries, this.getQueryDefaults(options == null ? void 0 : options.queryKey), options, {\n      _defaulted: true\n    });\n\n    if (!defaultedOptions.queryHash && defaultedOptions.queryKey) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(defaultedOptions.queryKey, defaultedOptions);\n    }\n\n    return defaultedOptions;\n  };\n\n  _proto.defaultQueryObserverOptions = function defaultQueryObserverOptions(options) {\n    return this.defaultQueryOptions(options);\n  };\n\n  _proto.defaultMutationOptions = function defaultMutationOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    return _extends({}, this.defaultOptions.mutations, this.getMutationDefaults(options == null ? void 0 : options.mutationKey), options, {\n      _defaulted: true\n    });\n  };\n\n  _proto.clear = function clear() {\n    this.queryCache.clear();\n    this.mutationCache.clear();\n  };\n\n  return QueryClient;\n}();"]},"metadata":{},"sourceType":"module"}
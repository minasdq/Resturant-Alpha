import e,{useLayoutEffect as t,useEffect as r,useCallback as o,useRef as a,useState as l}from"react";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,o,a={},l=Object.keys(e);for(o=0;o<l.length;o++)t.indexOf(r=l[o])>=0||(a[r]=e[r]);return a}const c="undefined"!=typeof window?t:r;function u(e){const t=a(e);return r(()=>{t.current=e}),o(e=>t.current&&t.current(e),[])}const i=(e,t=0,r=1)=>e>r?r:e<t?t:e,d=e=>"touches"in e,f=(e,t)=>{const r=e.getBoundingClientRect(),o=d(t)?t.touches[0]:t;return{left:i((o.pageX-(r.left+window.pageXOffset))/r.width),top:i((o.pageY-(r.top+window.pageYOffset))/r.height)}},h=e.memo(t=>{let{onMove:r,onKey:i}=t,h=s(t,["onMove","onKey"]);const v=a(null),m=a(!1),[g,p]=l(!1),b=u(r),_=u(i),C=o(e=>{e.preventDefault(),(d(e)?e.touches.length>0:e.buttons>0)&&v.current?b(f(v.current,e)):p(!1)},[b]),E=o(({nativeEvent:e})=>{e.preventDefault(),(e=>!(m.current&&!d(e)||(m.current||(m.current=d(e)),0)))(e)&&(b(f(v.current,e)),p(!0))},[b]),x=o(e=>{const t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),_({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},[_]),H=o(()=>p(!1),[]),M=o(e=>{const t=e?window.addEventListener:window.removeEventListener;t(m.current?"touchmove":"mousemove",C),t(m.current?"touchend":"mouseup",H)},[C,H]);return c(()=>(M(g),()=>{g&&M(!1)}),[g,M]),e.createElement("div",n({},h,{className:"react-colorful__interactive",ref:v,onTouchStart:E,onMouseDown:E,onKeyDown:x,tabIndex:0,role:"slider"}))}),v=e=>e.filter(Boolean).join(" "),m=({className:t,color:r,left:o,top:a=.5})=>{const l=v(["react-colorful__pointer",t]);return e.createElement("div",{className:l,style:{top:100*a+"%",left:100*o+"%"}},e.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:r}}))},g=(e,t=0,r=Math.pow(10,t))=>Math.round(r*e)/r,p={grad:.9,turn:360,rad:360/(2*Math.PI)},b=e=>("#"===e[0]&&(e=e.substr(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}:{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:1}),_=(e,t="deg")=>Number(e)*(p[t]||1),C=e=>{const t=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?x({h:_(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}},E=C,x=({h:e,s:t,l:r,a:o})=>({h:e,s:(t*=(r<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:o}),H=({h:e,s:t,v:r,a:o})=>{const a=(200-t)*r/100;return{h:g(e),s:g(a>0&&a<200?t*r/100/(a<=100?a:200-a)*100:0),l:g(a/2),a:g(o,2)}},M=e=>{const{h:t,s:r,l:o}=H(e);return`hsl(${t}, ${r}%, ${o}%)`},N=e=>{const{h:t,s:r,l:o,a}=H(e);return`hsla(${t}, ${r}%, ${o}%, ${a})`},w=({h:e,s:t,v:r,a:o})=>{e=e/360*6,t/=100,r/=100;const a=Math.floor(e),l=r*(1-t),n=r*(1-(e-a)*t),s=r*(1-(1-e+a)*t),c=a%6;return{r:g(255*[r,n,l,l,s,r][c]),g:g(255*[s,r,r,n,l,l][c]),b:g(255*[l,l,s,r,r,n][c]),a:g(o,2)}},$=e=>{const t=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?j({h:_(t[1],t[2]),s:Number(t[3]),v:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}},y=$,q=e=>{const t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?I({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}},k=q,O=e=>{const t=e.toString(16);return t.length<2?"0"+t:t},I=({r:e,g:t,b:r,a:o})=>{const a=Math.max(e,t,r),l=a-Math.min(e,t,r),n=l?a===e?(t-r)/l:a===t?2+(r-e)/l:4+(e-t)/l:0;return{h:g(60*(n<0?n+6:n)),s:g(a?l/a*100:0),v:g(a/255*100),a:o}},j=e=>({h:g(e.h),s:g(e.s),v:g(e.v),a:g(e.a,2)}),z=e.memo(({className:t,hue:r,onChange:o})=>{const a=v(["react-colorful__hue",t]);return e.createElement("div",{className:a},e.createElement(h,{onMove:e=>{o({h:360*e.left})},onKey:e=>{o({h:i(r+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":g(r)},e.createElement(m,{className:"react-colorful__hue-pointer",left:r/360,color:M({h:r,s:100,v:100,a:1})})))}),B=e.memo(({hsva:t,onChange:r})=>{const o={backgroundColor:M({h:t.h,s:100,v:100,a:1})};return e.createElement("div",{className:"react-colorful__saturation",style:o},e.createElement(h,{onMove:e=>{r({s:100*e.left,v:100-100*e.top})},onKey:e=>{r({s:i(t.s+100*e.left,0,100),v:i(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":`Saturation ${g(t.s)}%, Brightness ${g(t.v)}%`},e.createElement(m,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:M(t)})))}),K=(e,t)=>{if(e===t)return!0;for(const r in e)if(e[r]!==t[r])return!1;return!0},A=(e,t)=>e.replace(/\s/g,"")===t.replace(/\s/g,"");function D(e,t,n){const s=u(n),[c,i]=l(()=>e.toHsva(t)),d=a({color:t,hsva:c});r(()=>{if(!e.equal(t,d.current.color)){const r=e.toHsva(t);d.current={hsva:r,color:t},i(r)}},[t,e]),r(()=>{let t;K(c,d.current.hsva)||e.equal(t=e.fromHsva(c),d.current.color)||(d.current={hsva:c,color:t},s(t))},[c,e,s]);const f=o(e=>{i(t=>Object.assign({},t,e))},[]);return[c,f]}let L;const F=()=>L||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0),S=e=>{L=e};let P;const T=()=>{c(()=>{if("undefined"!=typeof document&&!P){P=document.createElement("style"),P.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}';const e=F();e&&P.setAttribute("nonce",e),document.head.appendChild(P)}},[])},X=t=>{let{className:r,colorModel:o,color:a=o.defaultColor,onChange:l}=t,c=s(t,["className","colorModel","color","onChange"]);T();const[u,i]=D(o,a,l),d=v(["react-colorful",r]);return e.createElement("div",n({},c,{className:d}),e.createElement(B,{hsva:u,onChange:i}),e.createElement(z,{hue:u.h,onChange:i,className:"react-colorful__last-control"}))},Y={defaultColor:"000",toHsva:e=>I(b(e)),fromHsva:e=>(({r:e,g:t,b:r})=>"#"+O(e)+O(t)+O(r))(w(e)),equal:(e,t)=>e.toLowerCase()===t.toLowerCase()||K(b(e),b(t))},R=t=>e.createElement(X,n({},t,{colorModel:Y})),G=({className:t,hsva:r,onChange:o})=>{const a={backgroundImage:`linear-gradient(90deg, ${N(Object.assign({},r,{a:0}))}, ${N(Object.assign({},r,{a:1}))})`},l=v(["react-colorful__alpha",t]);return e.createElement("div",{className:l},e.createElement("div",{className:"react-colorful__alpha-gradient",style:a}),e.createElement(h,{onMove:e=>{o({a:e.left})},onKey:e=>{o({a:i(r.a+e.left)})},"aria-label":"Alpha","aria-valuetext":`${g(100*r.a)}%`},e.createElement(m,{className:"react-colorful__alpha-pointer",left:r.a,color:N(r)})))},J=t=>{let{className:r,colorModel:o,color:a=o.defaultColor,onChange:l}=t,c=s(t,["className","colorModel","color","onChange"]);T();const[u,i]=D(o,a,l),d=v(["react-colorful",r]);return e.createElement("div",n({},c,{className:d}),e.createElement(B,{hsva:u,onChange:i}),e.createElement(z,{hue:u.h,onChange:i}),e.createElement(G,{hsva:u,onChange:i,className:"react-colorful__last-control"}))},Q={defaultColor:{h:0,s:0,l:0,a:1},toHsva:x,fromHsva:H,equal:K},U=t=>e.createElement(J,n({},t,{colorModel:Q})),V={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:C,fromHsva:N,equal:A},W=t=>e.createElement(J,n({},t,{colorModel:V})),Z={defaultColor:{h:0,s:0,l:0},toHsva:({h:e,s:t,l:r})=>x({h:e,s:t,l:r,a:1}),fromHsva:e=>(({h:e,s:t,l:r})=>({h:e,s:t,l:r}))(H(e)),equal:K},ee=t=>e.createElement(X,n({},t,{colorModel:Z})),te={defaultColor:"hsl(0, 0%, 0%)",toHsva:E,fromHsva:M,equal:A},re=t=>e.createElement(X,n({},t,{colorModel:te})),oe={defaultColor:{h:0,s:0,v:0,a:1},toHsva:e=>e,fromHsva:j,equal:K},ae=t=>e.createElement(J,n({},t,{colorModel:oe})),le={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:$,fromHsva:e=>{const{h:t,s:r,v:o,a}=j(e);return`hsva(${t}, ${r}%, ${o}%, ${a})`},equal:A},ne=t=>e.createElement(J,n({},t,{colorModel:le})),se={defaultColor:{h:0,s:0,v:0},toHsva:({h:e,s:t,v:r})=>({h:e,s:t,v:r,a:1}),fromHsva:e=>{const{h:t,s:r,v:o}=j(e);return{h:t,s:r,v:o}},equal:K},ce=t=>e.createElement(X,n({},t,{colorModel:se})),ue={defaultColor:"hsv(0, 0%, 0%)",toHsva:y,fromHsva:e=>{const{h:t,s:r,v:o}=j(e);return`hsv(${t}, ${r}%, ${o}%)`},equal:A},ie=t=>e.createElement(X,n({},t,{colorModel:ue})),de={defaultColor:{r:0,g:0,b:0,a:1},toHsva:I,fromHsva:w,equal:K},fe=t=>e.createElement(J,n({},t,{colorModel:de})),he={defaultColor:"rgba(0, 0, 0, 1)",toHsva:q,fromHsva:e=>{const{r:t,g:r,b:o,a}=w(e);return`rgba(${t}, ${r}, ${o}, ${a})`},equal:A},ve=t=>e.createElement(J,n({},t,{colorModel:he})),me={defaultColor:{r:0,g:0,b:0},toHsva:({r:e,g:t,b:r})=>I({r:e,g:t,b:r,a:1}),fromHsva:e=>(({r:e,g:t,b:r})=>({r:e,g:t,b:r}))(w(e)),equal:K},ge=t=>e.createElement(X,n({},t,{colorModel:me})),pe={defaultColor:"rgb(0, 0, 0)",toHsva:k,fromHsva:e=>{const{r:t,g:r,b:o}=w(e);return`rgb(${t}, ${r}, ${o})`},equal:A},be=t=>e.createElement(X,n({},t,{colorModel:pe})),_e=/^#?[0-9A-F]{3}$/i,Ce=/^#?[0-9A-F]{6}$/i,Ee=e=>Ce.test(e)||_e.test(e),xe=e=>e.replace(/([^0-9A-F]+)/gi,"").substr(0,6),He=t=>{const{color:a="",onChange:c,onBlur:i}=t,d=s(t,["color","onChange","onBlur"]),[f,h]=l(()=>xe(a)),v=u(c),m=u(i),g=o(e=>{const t=xe(e.target.value);h(t),Ee(t)&&v("#"+t)},[v]),p=o(e=>{Ee(e.target.value)||h(xe(a)),m(e)},[a,m]);return r(()=>{h(xe(a))},[a]),e.createElement("input",n({},d,{value:f,spellCheck:"false",onChange:g,onBlur:p}))};export{He as HexColorInput,R as HexColorPicker,ee as HslColorPicker,re as HslStringColorPicker,U as HslaColorPicker,W as HslaStringColorPicker,ce as HsvColorPicker,ie as HsvStringColorPicker,ae as HsvaColorPicker,ne as HsvaStringColorPicker,ge as RgbColorPicker,be as RgbStringColorPicker,fe as RgbaColorPicker,ve as RgbaStringColorPicker,S as setNonce};
//# sourceMappingURL=index.esmodule.js.map
